<script setup>
// import VerticalNavSectionTitle from '@/@layouts/components/VerticalNavSectionTitle.vue'
import VerticalNavGroup from '@layouts/components/VerticalNavGroup.vue'
import VerticalNavLink from '@layouts/components/VerticalNavLink.vue'
import { onMounted } from 'vue'

import Nav from '@/api/Nav'

const navDate = ref([])
const CUDDate = ref({})

const loadNavList = async () => {
  try {
    const response = await Nav.getNav()
    navDate.value = response.data
    console.log("navDate.value", navDate.value)
  } catch (e) {
    console.log("네비 메뉴 조회 실패", e)
  }
}

const loadCUD = async (id) => {
  try {
    const response = await Nav.getCUD(id)
    CUDDate.value = response.data
    console.log("CUDDate.value", CUDDate.value)
  } catch (e) {
    console.log("CUD 권한 조회 실패", e)
  }
}

onMounted(async () => {
  await loadNavList()
})

</script>

<template>

  <VerticalNavGroup v-for="(nav, index) in navDate" :key="index" class="top-menu" :item="{
    title: `${nav.menuName}`,
    icon: `${nav.menuIcon}`,
  }">
    <VerticalNavLink @click="loadCUD(sub.menuSid)" v-for="(sub, i) in nav.children" :key="i" :item="{
      title: `${sub.menuName}`,
      to: `${sub.menuUrl}`,
    }" />
  </VerticalNavGroup>

  <!-- <VerticalNavGroup class="top-menu" :item="{
    title: '모니터링',
    icon: 'bx-layout',
  }">
    <VerticalNavLink :item="{
      title: '관리자 로그 관리',
      to: '/monitoring/admin-log-man',
    }" />
    <VerticalNavLink :item="{
      title: '회원 로그 관리',
      to: '/monitoring/user-log-man',
    }" />
  </VerticalNavGroup>

  <VerticalNavGroup class="top-menu" :item="{
    title: '자원관리',
    icon: 'bx-command',
  }">
    <VerticalNavLink :item="{
      title: 'GCON 관리',
      to: '/gcon-container',
    }" />
    <VerticalNavLink :item="{
      title: '스마트 신발 관리',
      to: '/smart-shoes-manage',
    }" />
    <VerticalNavLink :item="{
      title: '카메라 관리',
      to: '/camera-manage',
    }" />
    <VerticalNavLink :item="{
      title: '검지매트 관리',
      to: '/mat-manage',
    }" />
    <VerticalNavLink :item="{
      title: '배회감지 장비 관리',
      to: '/user/ddd',
    }" />
  </VerticalNavGroup>


  <VerticalNavGroup class="top-menu" :item="{
    title: '사물인식 모델링 관리',
    icon: 'bx-analyse',
  }">
    <VerticalNavLink :item="{
      title: '사물인식 라벨링',
      to: '/labeling',
    }" />
  </VerticalNavGroup>


  <VerticalNavGroup class="top-menu" :item="{
    title: '회원관리',
    icon: 'bx-user',
  }">
    <VerticalNavLink :item="{
      title: 'GCON 회원관리',
      to: '/user/gcon-user-manage',
    }" />
    <VerticalNavLink :item="{
      title: '관제 회원 관리',
      to: '/user/work',
    }" />
    <VerticalNavLink :item="{
      title: '배회 감지 회원 관리',
      to: '/user/dfd',
    }" />
    <VerticalNavLink :item="{
      title: '회원 로그 관리',
      to: '/user/sds',
    }" />
  </VerticalNavGroup>


  <VerticalNavGroup class="top-menu" :item="{
    title: '관리자 관리',
    icon: 'bx-atom',
  }">
    <VerticalNavLink :item="{
      title: '관리자 관리',
      to: '/manage/admin-management',
    }" />
    <VerticalNavLink :item="{
      title: '관리자 권한 관리',
      to: '/manage/admin-role-management',
    }" />
    <VerticalNavLink :item="{
      title: '관리자 권한 메뉴 관리',
      to: '/manage/admin-menu-management',
    }" />
  </VerticalNavGroup>

  
  <VerticalNavGroup class="top-menu" :item="{
    title: '고객지원 관리',
    icon: 'bx-file',
  }">
    <VerticalNavLink :item="{
      title: '개인정보처리방침 관리',
      to: '/cust-sup-mana',
    }" />
    <VerticalNavLink :item="{
      title: '오픈소스 라이센스 관리',
      to: '/open-source',
    }" />
    <VerticalNavLink :item="{
      title: '서비스 이용약관 관리',
      to: '/terms-of-use',
    }" />
  </VerticalNavGroup> -->


  <!-- 👉 Apps & Pages -->
  <!-- <VerticalNavSectionTitle :item="{
    heading: 'Apps & Pages',
  }" />
  <VerticalNavLink :item="{
    title: 'Email',
    icon: 'bx-envelope',
    href: 'https://demos.themeselection.com/sneat-vuetify-vuejs-admin-template/demo-1/apps/email',
    target: '_blank',
    badgeContent: 'Pro',
    badgeClass: 'bg-light-primary text-primary',
  }" />
  <VerticalNavLink :item="{
    title: 'Chat',
    icon: 'bx-chat',
    href: 'https://demos.themeselection.com/sneat-vuetify-vuejs-admin-template/demo-1/apps/chat',
    target: '_blank',
    badgeContent: 'Pro',
    badgeClass: 'bg-light-primary text-primary',
  }" />
  <VerticalNavLink :item="{
    title: 'Calendar',
    icon: 'bx-calendar',
    href: 'https://demos.themeselection.com/sneat-vuetify-vuejs-admin-template/demo-1/apps/calendar',
    target: '_blank',
    badgeContent: 'Pro',
    badgeClass: 'bg-light-primary text-primary',
  }" />
  <VerticalNavLink :item="{
    title: 'Kanban',
    icon: 'bx-grid',
    href: 'https://demos.themeselection.com/sneat-vuetify-vuejs-admin-template/demo-1/apps/kanban',
    target: '_blank',
    badgeContent: 'Pro',
    badgeClass: 'bg-light-primary text-primary',
  }" />

  <VerticalNavLink :item="{
    title: 'Account Settings',
    icon: 'bx-user',
    to: '/account-settings',
  }" />

  <VerticalNavLink :item="{
    title: 'Login',
    icon: 'bx-log-in',
    to: '/login',
  }" />
  <VerticalNavLink :item="{
    title: 'Register',
    icon: 'bx-user-plus',
    to: '/register',
  }" />
  <VerticalNavLink :item="{
    title: 'Error',
    icon: 'bx-info-circle',
    to: '/no-existence',
  }" /> -->

  <!-- 👉 User Interface -->
  <!-- <VerticalNavSectionTitle :item="{
    heading: 'User Interface',
  }" />
  <VerticalNavLink :item="{
    title: 'Typography',
    icon: 'bx-text',
    to: '/typography',
  }" />
  <VerticalNavLink :item="{
    title: 'Icons',
    icon: 'bx-package',
    to: '/icons',
  }" />
  <VerticalNavLink :item="{
    title: 'Cards',
    icon: 'bx-credit-card',
    to: '/cards',
  }" /> -->

  <!-- 👉 Forms & Tables -->
  <!-- <VerticalNavSectionTitle :item="{
    heading: 'Forms & Tables',
  }" />
  <VerticalNavLink :item="{
    title: 'Form Layouts',
    icon: 'bx-layout',
    to: '/form-layouts',
  }" />
  <VerticalNavLink :item="{
    title: 'Form Validation',
    icon: 'bx-check-circle',
    href: 'https://demos.themeselection.com/sneat-vuetify-vuejs-admin-template/demo-1/forms/form-validation',
    target: '_blank',
    badgeContent: 'Pro',
    badgeClass: 'bg-light-primary text-primary',
  }" />
  <VerticalNavLink :item="{
    title: 'Form Wizard',
    icon: 'bx-align-middle',
    href: 'https://demos.themeselection.com/sneat-vuetify-vuejs-admin-template/demo-1/forms/form-wizard-numbered',
    target: '_blank',
    badgeContent: 'Pro',
    badgeClass: 'bg-light-primary text-primary',
  }" />
  <VerticalNavLink :item="{
    title: 'Tables',
    icon: 'bx-table',
    to: '/tables',
  }" /> -->

  <!-- 👉 Others -->
  <!-- <VerticalNavSectionTitle :item="{
    heading: 'Others',
  }" />
  <VerticalNavLink :item="{
    title: 'Access Control',
    icon: 'bx-command',
    href: 'https://demos.themeselection.com/sneat-vuetify-vuejs-admin-template/demo-1/access-control',
    target: '_blank',
    badgeContent: 'Pro',
    badgeClass: 'bg-light-primary text-primary',
  }" />
  <VerticalNavLink :item="{
    title: 'Documentation',
    icon: 'bx-file',
    href: 'https://demos.themeselection.com/sneat-vuetify-vuejs-admin-template/documentation/',
    target: '_blank',
  }" />
  <VerticalNavLink :item="{
    title: 'Raise Support',
    href: 'https://github.com/themeselection/sneat-vuetify-vuejs-admin-template-free/issues',
    icon: 'bx-phone',
    target: '_blank',
  }" /> -->
</template>

<style scoped>
.top-menu {
  margin: 25px 0;
}
</style>